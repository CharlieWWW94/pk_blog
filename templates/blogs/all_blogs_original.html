{% extends '../base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/all_blogs.css' %}">
<div class = grid-container>
    <div class="grid-item grid-item-1"></div>
    <div class="grid-item grid-item-2">
        <h1>Browse Public Posts:</h1>
    </div>
    <div class="grid-item grid-item-3"></div>
    <div class="grid-item grid-item-4"></div>
    <div class="grid-item grid-item-5">
    <script>
        const new_results = [];
        const listLength = "{{results|length}}";
        console.log(listLength);
    </script>
        {% for blog in results %}
        <a class="link-wrapper" href="{% url '1_blog' id=blog.id%}">
            <div class="blog">
            <div class="blog-header">
                <h2 class="blog-count">{{blog.title}}</h2>
                <h3 class="blog-strap">{{blog.strapline}}</h3>
                <h4 class="blog-strap">Author: {{blog.attributed_name}}</h4>
                {% if blog.is_encrypted == False %}
                    <p class="blog-strap">{{blog.blog_content}}</p>
                {% endif %}
            </div>
            <br>
            <br>
            <p class="blog-text">
                {{blog.time_created}}
            </p>
        </div>
        </a>
        <script>
            new_results.push(["{{blog.title}}", "{{blog.strapline}}", "{{blog.attributed_name}}"])
        </script>
        {%endfor%}
    </div>
    <div class="grid-item grid-item-6"></div>
</div>
<script src="{% static 'javascript/all_blogs.js' %}"></script>
{%  endblock %}